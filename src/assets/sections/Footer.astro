---
import Badge from '../../components/Badge.astro';
import Button from '../../components/Button.astro';
import Dialog from '../../components/Dialog.astro';

---

<footer class="animate-fade-in-up animate-delay-300 animate-duration-1000 py-6 px-4 z-10">
  <div class="max-w-4xl mx-auto">
    
    {/* Primera línea: Badge centrado */}
    <div class="flex justify-center mb-6">
      <Badge text="Web en construcción" variant="outline" size="sm" />
    </div>
    
    {/* Segunda línea: Tres columnas - en móvil: vertical, en desktop: horizontal */}
    <div class="flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-2">
      
      {/* Logo - centrado en móvil, izquierda en desktop */}
      <div class="flex items-center justify-center sm:justify-start w-full sm:w-1/3 order-1 sm:order-1">
        <img 
          src="logo_reduced.svg" 
          alt="Logo" 
          class="w-8 h-8"
          width="32"
          height="32"
        />
      </div>
      
       {/* Navegación - centrada siempre */}
        <nav class="flex items-center justify-center gap-4 w-full sm:w-1/3 order-2 sm:order-2">
          <span data-open-dialog="privacy" class="text-xs sm:text-sm hover:underline cursor-pointer">Privacidad</span>
          <span data-open-dialog="legal" class="text-xs sm:text-sm hover:underline cursor-pointer">Legal</span>
          <span data-open-dialog="cookies" class="text-xs sm:text-sm hover:underline cursor-pointer">Cookies</span>
        </nav>
      
      {/* Copyright - centrado en móvil, derecha en desktop */}
      <div class="flex items-center justify-center sm:justify-end w-full sm:w-1/3 order-3 sm:order-3">
        <p class="text-xs text-center sm:text-right">
          © {new Date().getFullYear()} Teresa Molés SL.
        </p>
      </div>
      
    </div>
    
  </div>
</footer>
<!-- Legal Dialogs -->
<Dialog title="Aviso Legal" id="legal" showSubmit={false}>
  <h4>Información General</h4>
  <p>En cumplimiento con el deber de información dispuesto en la Ley 34/2002 de Servicios de la Sociedad de la Información y el Comercio Electrónico (LSSI-CE) de 11 de julio, se facilitan los siguientes datos de información general de este sitio web:</p>
  <p><strong>Denominación social:</strong> Teresa Molés SL</p>
  <p><strong>NIF:</strong> [Insertar NIF]</p>
  <p><strong>Domicilio social:</strong> Avenida Cardenal Vicente Enrique Tarancón 22, Burriana (Castellón)</p>
  <p><strong>Correo electrónico:</strong> info@teresamoles.es</p>
  <p><strong>Actividad:</strong> Servicios odontológicos y bienestar</p>

  <h4>Objeto y Ámbito de Aplicación</h4>
  <p>El presente aviso legal regula el uso del sitio web www.teresamoles.es (en adelante, el "Sitio Web") que Teresa Molés SL pone a disposición del público.</p>

  <h4>Condiciones de Uso</h4>
  <p>El acceso al Sitio Web es gratuito salvo en lo relativo al coste de la conexión a través de la red de telecomunicaciones suministrada por el proveedor de acceso contratado por los usuarios.</p>
</Dialog>

<Dialog title="Política de Privacidad" id="privacy" showSubmit={false}>
  <h4>Responsable del Tratamiento</h4>
  <p><strong>Identidad:</strong> Teresa Molés SL</p>
  <p><strong>NIF:</strong> [Insertar NIF]</p>
  <p><strong>Dirección:</strong> Avenida Cardenal Vicente Enrique Tarancón 22, Burriana (Castellón)</p>
  <p><strong>Correo electrónico:</strong> info@teresamoles.es</p>

  <h4>Finalidad del Tratamiento</h4>
  <p>Los datos personales facilitados a través de los formularios del sitio web se recogen con las siguientes finalidades:</p>
  <ul class="list-disc pl-6">
      <li>Gestión de consultas y solicitudes de información</li>
      <li>Envío de comunicaciones comerciales sobre nuestros servicios</li>
      <li>Mejora de nuestros servicios y experiencia del usuario</li>
  </ul>

  <h4>Legitimación</h4>
  <p>La base jurídica para el tratamiento de sus datos es el consentimiento del interesado, el interés legítimo del responsable y el cumplimiento de obligaciones legales.</p>

  <h4>Destinatarios</h4>
  <p>No se cederán datos a terceros salvo obligación legal.</p>

  <h4>Derechos</h4>
  <p>Puede ejercer sus derechos de acceso, rectificación, supresión, limitación, portabilidad y oposición enviando un email a info@teresamoles.es o carta a nuestra dirección.</p>
</Dialog>

<Dialog title="Política de Cookies" id="cookies" showSubmit={false}>
  <h4>¿Qué son las Cookies?</h4>
  <p>Las cookies son pequeños archivos de texto que se almacenan en su navegador cuando visita nuestro sitio web.</p>

  <h4>Tipos de Cookies que Utilizamos</h4>
  <p>Este sitio web utiliza las siguientes categorías de cookies:</p>
  <ul class="list-disc pl-6">
      <li><strong>Cookies técnicas (necesarias):</strong> Esenciales para el funcionamiento básico del sitio web</li>
      <li><strong>Cookies de análisis:</strong> Para analizar el uso del sitio web y mejorar nuestros servicios</li>
  </ul>

  <h4>Gestión de Cookies</h4>
  <p>Puede configurar su navegador para aceptar o rechazar cookies. También puede gestionar su consentimiento a través del banner de cookies. La desactivación de cookies no necesarias puede afectar a algunas funcionalidades del sitio web.</p>

  <h4>Consentimiento</h4>
  <p>Su consentimiento se almacena localmente en su navegador. Puede revocarlo en cualquier momento configurando su navegador o contactándonos.</p>
</Dialog>

<Dialog title="Configurar Cookies" id="cookie-config">
  <p>Selecciona los tipos de cookies que deseas aceptar:</p>

  <form class="flex flex-col gap-4">
      <label class="flex items-center gap-2 text-sm cursor-pointer">
          <input
              type="checkbox"
              id="necessary-cookies"
              checked
              disabled
              class="w-4 h-4 accent-[var(--color-primary)] cursor-pointer"
          />
          <span class="text-left"><strong>Cookies técnicas (necesarias)</strong> - Esenciales para el funcionamiento del sitio web</span>
      </label>

      <label class="flex items-center gap-2 text-sm cursor-pointer">
          <input
              type="checkbox"
              id="analytics-cookies"
              class="w-4 h-4 accent-[var(--color-primary)] cursor-pointer"
          />
          <span class="text-left"><strong>Cookies de análisis</strong> - Para analizar el uso del sitio web y mejorar nuestros servicios</span>
      </label>

      <div class="flex flex-col sm:flex-row gap-2 mt-4">
          <Button
              label="Aceptar selección"
              id="save-cookie-config"
              class="flex-1"
          />
          <Button
              label="Aceptar todas"
              id="accept-all-config"
              variant="outlined"
              class="flex-1"
          />
          <Button
              label="Solo necesarias"
              id="accept-essential-config"
              variant="outlined"
              class="flex-1"
          />
      </div>
  </form>
</Dialog>